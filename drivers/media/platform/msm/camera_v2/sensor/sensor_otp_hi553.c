#define HW_CMR_LOG_TAG "sensor_otp_hi553"

#include <linux/hw_camera_common.h>
#include "msm_sensor.h"
#include "sensor_otp_common_if.h"

//Golden sensor typical ratio

static int RG_Ratio_Typical = 0x0259;
static int BG_Ratio_Typical = 0x0276;

#define QTECH_VENDOR_ID 0x06
#define CHICONY_VENDOR_ID 0x02
#define HI553_QTECH_MODULE_VCM_OFFSET 100
#define HI553_CHICONY_MODULE_VCM_OFFSET 70

#define HI553_MODULE_REG_NO   7
#define HI553_AWB_REG_NO      12
#define HI553_AF_REG_NO       4
#define HI553_LSC_REG_NO     1105
#define HI553_GROUP_FLAG_NO     1
#define HI553_CHECKSUM_OFFSET      1
#define HI553_I2C_RETRY_TIMES 3

#define loge_if_ret(x) \
{\
	if (x<0) \
	{\
		CMR_LOGE("'%s' failed", #x); \
		return -1; \
	} \
}

//OTP info struct
typedef struct hi553_otp_info {
	uint8_t  vendor_id;
	uint8_t  lense_id;
	uint8_t  vcm_id;
	uint8_t  driver_ic;
	uint8_t  year;
	uint8_t  month;
	uint8_t  day;
	uint16_t rg_ratio;
	uint16_t bg_ratio;
	uint16_t gb_gr_ratio;
	uint16_t af_macro_dac;
	uint16_t af_infinity_dac;
}st_hi553_otp_info;

//hi553 has three groups: [1,2,3]
typedef enum hi553_groups_count{
	GROUP_1 = 0,
	GROUP_2,
	GROUP_3,
	GROUP_MAX
}enum_hi553_groups;

typedef enum hi553_groups_type{
	GROUP_TYPE_MODULE = 0,
	GROUP_TYPE_AWB,
	GROUP_TYPE_AF,
	GROUP_TYPE_LSC,
	GROUP_TYPE_MAX
}enum_hi553_type;

static uint16_t hi553_module_info_otp_read_addr[3][4] = {
/*module_addr awb_addr  af_addr   lsc_addr */
	{0x0501,   0x0601,   0x0701,   0x0720},//group1
	{0x050a,   0x060f,   0x0707,   0x0b75},//group2
	{0x0513,   0x061d,   0x070d,   0x0000},//group3
};

static struct msm_camera_i2c_reg_array hi553_otp_init_setting[]=
{
#if 1
//Sensor Information////////////////////////////
//Sensor		  : Hi-553
//Image size       : 2592 x 1944
////////////////////////////////////////////////

// **********TC358746XBG Software Reset
//{0x0002, 0x0001}, //SYSctl, S/W Reset
//{0x0002, 0x0000}, //SYSctl, S/W Reset release

//=============================================//
//           TG Firmware (Hi-553)
//=============================================//
// Firmware tg_pt
{0x0e00, 0x0102}, //tg_pmem_sckpw/sdly
{0x0e02, 0x0102}, //tg_dmem_sckpw/sdly
{0x0e0c, 0x0100}, //tg_pmem_rom_dly
{0x2000, 0x7400},
{0x2002, 0x1303},
{0x2004, 0x7006},
{0x2006, 0x1303},
{0x2008, 0x0bd2},
{0x200a, 0x5001},
{0x200c, 0x5021},
{0x200e, 0x0047},
{0x2010, 0x0044},
{0x2012, 0x03c4},
{0x2014, 0x0009},
{0x2016, 0x207e},
{0x2018, 0x7001},
{0x201a, 0x0fd0},
{0x201c, 0x00d1},
{0x201e, 0x00a1},
{0x2020, 0x00c9},
{0x2022, 0x030b},
{0x2024, 0x7008},
{0x2026, 0x82c0},
{0x2028, 0x01d7},
{0x202a, 0x0022},
{0x202c, 0x0016},
{0x202e, 0x7006},
{0x2030, 0x0fe2},
{0x2032, 0x0016},
{0x2034, 0x20d0},
{0x2036, 0x15c0},
{0x2038, 0x0540},
{0x203a, 0x0d45},
{0x203c, 0x00cc},
{0x203e, 0x00c5},
{0x2040, 0x00cc},
{0x2042, 0x04d7},
{0x2044, 0x18e2},
{0x2046, 0x0016},
{0x2048, 0x70e1},
{0x204a, 0x18e2},
{0x204c, 0x16d6},
{0x204e, 0x0022},
{0x2050, 0x8351},
{0x2052, 0x2128},
{0x2054, 0x2100},
{0x2056, 0x7055},
{0x2058, 0x2f06},
{0x205a, 0x2300},
{0x205c, 0x7800},
{0x205e, 0x7400},
{0x2060, 0x1303},
{0x2062, 0x7006},
{0x2064, 0x1303},
{0x2066, 0x0bd2},
{0x2068, 0x5081},
{0x206a, 0x50a1},
{0x206c, 0x0047},
{0x206e, 0x0044},
{0x2070, 0x03c4},
{0x2072, 0x0009},
{0x2074, 0x207e},
{0x2076, 0x7001},
{0x2078, 0x0fd0},
{0x207a, 0x00d1},
{0x207c, 0x00a1},
{0x207e, 0x00c9},
{0x2080, 0x030b},
{0x2082, 0x7008},
{0x2084, 0x86c0},
{0x2086, 0x01d7},
{0x2088, 0x0022},
{0x208a, 0x0016},
{0x208c, 0x7006},
{0x208e, 0x0fe2},
{0x2090, 0x0016},
{0x2092, 0x20d0},
{0x2094, 0x15c0},
{0x2096, 0x0540},
{0x2098, 0x0d45},
{0x209a, 0x00cc},
{0x209c, 0x00c5},
{0x209e, 0x00cc},
{0x20a0, 0x04d7},
{0x20a2, 0x18e2},
{0x20a4, 0x0016},
{0x20a6, 0x70e1},
{0x20a8, 0x18e2},
{0x20aa, 0x16d6},
{0x20ac, 0x0022},
{0x20ae, 0x8751},
{0x20b0, 0x2128},
{0x20b2, 0x2100},
{0x20b4, 0x2e06},
{0x20b6, 0x2300},
{0x20b8, 0x7800},
{0x20ba, 0x7400},
{0x20bc, 0x0005},
{0x20be, 0x7002},
{0x20c0, 0x1303},
{0x20c2, 0x00c5},
{0x20c4, 0x7002},
{0x20c6, 0x1303},
{0x20c8, 0x0bd2},
{0x20ca, 0x5101},
{0x20cc, 0x5121},
{0x20ce, 0x0047},
{0x20d0, 0x0044},
{0x20d2, 0x03c4},
{0x20d4, 0x0009},
{0x20d6, 0x207e},
{0x20d8, 0x7001},
{0x20da, 0x0fd0},
{0x20dc, 0x00d1},
{0x20de, 0x00a1},
{0x20e0, 0x00c9},
{0x20e2, 0x030b},
{0x20e4, 0x7008},
{0x20e6, 0x8ac0},
{0x20e8, 0x01d7},
{0x20ea, 0x0022},
{0x20ec, 0x0016},
{0x20ee, 0x08a2},
{0x20f0, 0x0016},
{0x20f2, 0x20d0},
{0x20f4, 0x15c0},
{0x20f6, 0x0540},
{0x20f8, 0x0d45},
{0x20fa, 0x00cc},
{0x20fc, 0x00c5},
{0x20fe, 0x00cc},
{0x2100, 0x04d7},
{0x2102, 0x18e2},
{0x2104, 0x0016},
{0x2106, 0x706f},
{0x2108, 0x18e2},
{0x210a, 0x16d6},
{0x210c, 0x0022},
{0x210e, 0x8b51},
{0x2110, 0x2128},
{0x2112, 0x2106},
{0x2114, 0x2300},
{0x2116, 0x7800},
{0x2118, 0x3100},
{0x211a, 0x01c6},
{0x211c, 0x01c4},
{0x211e, 0x01c0},
{0x2120, 0x01c6},
{0x2122, 0x2700},
{0x2124, 0x7007},
{0x2126, 0x3f00},
{0x2128, 0x7800},
{0x212a, 0x4031},
{0x212c, 0x83ce},
{0x212e, 0x40f2},
{0x2130, 0x0006},
{0x2132, 0x81fe},
{0x2134, 0x40f2},
{0x2136, 0x0042},
{0x2138, 0x81ff},
{0x213a, 0x40f2},
{0x213c, 0xff84},
{0x213e, 0x8200},
{0x2140, 0x43c2},
{0x2142, 0x8201},
{0x2144, 0x40b2},
{0x2146, 0x0230},
{0x2148, 0x8030},
{0x214a, 0x40b2},
{0x214c, 0x0032},
{0x214e, 0x8032},
{0x2150, 0x40b2},
{0x2152, 0x01e0},
{0x2154, 0x81d2},
{0x2156, 0x40b2},
{0x2158, 0x03c0},
{0x215a, 0x81d4},
{0x215c, 0x40b2},
{0x215e, 0x05a0},
{0x2160, 0x81d6},
{0x2162, 0x40b2},
{0x2164, 0x0285},
{0x2166, 0x81d8},
{0x2168, 0x40b2},
{0x216a, 0x02dc},
{0x216c, 0x81da},
{0x216e, 0x40b2},
{0x2170, 0x0064},
{0x2172, 0x81e6},
{0x2174, 0x93d2},
{0x2176, 0x003d},
{0x2178, 0x2002},
{0x217a, 0x4030},
{0x217c, 0xf962},
{0x217e, 0x0900},
{0x2180, 0x7312},
{0x2182, 0x43d2},
{0x2184, 0x003d},
{0x2186, 0x40b2},
{0x2188, 0x9887},
{0x218a, 0x0b82},
{0x218c, 0x40b2},
{0x218e, 0xc540},
{0x2190, 0x0b84},
{0x2192, 0x40b2},
{0x2194, 0xb540},
{0x2196, 0x0b86},
{0x2198, 0x40b2},
{0x219a, 0x0085},
{0x219c, 0x0b88},
{0x219e, 0x40b2},
{0x21a0, 0xd254},
{0x21a2, 0x0b8a},
{0x21a4, 0x40b2},
{0x21a6, 0x0420},
{0x21a8, 0x0b8c},
{0x21aa, 0x40b2},
{0x21ac, 0xc200},
{0x21ae, 0x0b8e},
{0x21b0, 0x4392},
{0x21b2, 0x0ba6},
{0x21b4, 0x43d2},
{0x21b6, 0x01a0},
{0x21b8, 0x40f2},
{0x21ba, 0x0003},
{0x21bc, 0x01a2},
{0x21be, 0x43d2},
{0x21c0, 0x019d},
{0x21c2, 0x43d2},
{0x21c4, 0x0f82},
{0x21c6, 0x0cff},
{0x21c8, 0x0cff},
{0x21ca, 0x0cff},
{0x21cc, 0x0cff},
{0x21ce, 0x0cff},
{0x21d0, 0x0cff},
{0x21d2, 0x0c32},
{0x21d4, 0x40f2},
{0x21d6, 0x000e},
{0x21d8, 0x0f90},
{0x21da, 0x4392},
{0x21dc, 0x7326},
{0x21de, 0x90f2},
{0x21e0, 0x0010},
{0x21e2, 0x00bf},
{0x21e4, 0x2002},
{0x21e6, 0x4030},
{0x21e8, 0xf7b6},
{0x21ea, 0x403b},
{0x21ec, 0x7f10},
{0x21ee, 0x439b},
{0x21f0, 0x0000},
{0x21f2, 0x403f},
{0x21f4, 0xf118},
{0x21f6, 0x12b0},
{0x21f8, 0xe12a},
{0x21fa, 0x438b},
{0x21fc, 0x0000},
{0x21fe, 0x4392},
{0x2200, 0x81de},
{0x2202, 0x40b2},
{0x2204, 0x02bc},
{0x2206, 0x731e},
{0x2208, 0x43a2},
{0x220a, 0x81dc},
{0x220c, 0xb3e2},
{0x220e, 0x00b4},
{0x2210, 0x2402},
{0x2212, 0x4392},
{0x2214, 0x81dc},
{0x2216, 0x4326},
{0x2218, 0xb3d2},
{0x221a, 0x00b4},
{0x221c, 0x2002},
{0x221e, 0x4030},
{0x2220, 0xf7a6},
{0x2222, 0x4306},
{0x2224, 0x12b0},
{0x2226, 0xe16a},
{0x2228, 0x40b2},
{0x222a, 0x012c},
{0x222c, 0x8036},
{0x222e, 0x40b2},
{0x2230, 0x0030},
{0x2232, 0x8034},
{0x2234, 0x12b0},
{0x2236, 0xe238},
{0x2238, 0x4382},
{0x223a, 0x81e4},
{0x223c, 0x40b2},
{0x223e, 0x0005},
{0x2240, 0x7320},
{0x2242, 0x4392},
{0x2244, 0x7326},
{0x2246, 0x425f},
{0x2248, 0x00be},
{0x224a, 0xf07f},
{0x224c, 0x0010},
{0x224e, 0x4f0e},
{0x2250, 0xf03e},
{0x2252, 0x0010},
{0x2254, 0x4e82},
{0x2256, 0x81e2},
{0x2258, 0x425f},
{0x225a, 0x008c},
{0x225c, 0xf37f},
{0x225e, 0x4f82},
{0x2260, 0x81e0},
{0x2262, 0x930f},
{0x2264, 0x2002},
{0x2266, 0x4030},
{0x2268, 0xf79c},
{0x226a, 0x40b2},
{0x226c, 0x501c},
{0x226e, 0x0b94},
{0x2270, 0x425f},
{0x2272, 0x00cb},
{0x2274, 0x4f49},
{0x2276, 0x425f},
{0x2278, 0x009e},
{0x227a, 0xf07f},
{0x227c, 0x000f},
{0x227e, 0x4f47},
{0x2280, 0x425f},
{0x2282, 0x009f},
{0x2284, 0xf07f},
{0x2286, 0x000f},
{0x2288, 0xf37f},
{0x228a, 0x5f07},
{0x228c, 0x1107},
{0x228e, 0x425f},
{0x2290, 0x00b2},
{0x2292, 0xf07f},
{0x2294, 0x000f},
{0x2296, 0x4f48},
{0x2298, 0x425f},
{0x229a, 0x00b3},
{0x229c, 0xf07f},
{0x229e, 0x000f},
{0x22a0, 0xf37f},
{0x22a2, 0x5f08},
{0x22a4, 0x1108},
{0x22a6, 0x421f},
{0x22a8, 0x0098},
{0x22aa, 0x821f},
{0x22ac, 0x0092},
{0x22ae, 0x531f},
{0x22b0, 0x4f0c},
{0x22b2, 0x470a},
{0x22b4, 0x12b0},
{0x22b6, 0xfc50},
{0x22b8, 0x4c82},
{0x22ba, 0x0a86},
{0x22bc, 0x9309},
{0x22be, 0x2002},
{0x22c0, 0x4030},
{0x22c2, 0xf78a},
{0x22c4, 0x9318},
{0x22c6, 0x2002},
{0x22c8, 0x4030},
{0x22ca, 0xf78a},
{0x22cc, 0x421f},
{0x22ce, 0x00ac},
{0x22d0, 0x821f},
{0x22d2, 0x00a6},
{0x22d4, 0x531f},
{0x22d6, 0x480e},
{0x22d8, 0x533e},
{0x22da, 0x4f0c},
{0x22dc, 0x4e0a},
{0x22de, 0x12b0},
{0x22e0, 0xfc50},
{0x22e2, 0x4c82},
{0x22e4, 0x0a88},
{0x22e6, 0x484f},
{0x22e8, 0x5f4f},
{0x22ea, 0x5f4f},
{0x22ec, 0x5f4f},
{0x22ee, 0x5f4f},
{0x22f0, 0x474e},
{0x22f2, 0x5e4e},
{0x22f4, 0xde4f},
{0x22f6, 0x403b},
{0x22f8, 0x81e0},
{0x22fa, 0xdb6f},
{0x22fc, 0x4fc2},
{0x22fe, 0x0a8e},
{0x2300, 0x40b2},
{0x2302, 0x0033},
{0x2304, 0x7900},
{0x2306, 0x4292},
{0x2308, 0x0092},
{0x230a, 0x0a8c},
{0x230c, 0x4292},
{0x230e, 0x0098},
{0x2310, 0x0a9e},
{0x2312, 0x4292},
{0x2314, 0x00a6},
{0x2316, 0x0a8a},
{0x2318, 0x40b2},
{0x231a, 0x0c01},
{0x231c, 0x7500},
{0x231e, 0x40b2},
{0x2320, 0x0c01},
{0x2322, 0x8268},
{0x2324, 0x40b2},
{0x2326, 0x0803},
{0x2328, 0x7502},
{0x232a, 0x40b2},
{0x232c, 0x0807},
{0x232e, 0x7504},
{0x2330, 0x40b2},
{0x2332, 0x5803},
{0x2334, 0x7506},
{0x2336, 0x40b2},
{0x2338, 0x0801},
{0x233a, 0x7508},
{0x233c, 0x40b2},
{0x233e, 0x0805},
{0x2340, 0x750a},
{0x2342, 0x40b2},
{0x2344, 0x5801},
{0x2346, 0x750c},
{0x2348, 0x40b2},
{0x234a, 0x0803},
{0x234c, 0x750e},
{0x234e, 0x40b2},
{0x2350, 0x0802},
{0x2352, 0x7510},
{0x2354, 0x40b2},
{0x2356, 0x0800},
{0x2358, 0x7512},
{0x235a, 0x403f},
{0x235c, 0x8268},
{0x235e, 0x12b0},
{0x2360, 0xe2dc},
{0x2362, 0x4392},
{0x2364, 0x7f06},
{0x2366, 0x43a2},
{0x2368, 0x7f0a},
{0x236a, 0x938b},
{0x236c, 0x0000},
{0x236e, 0x2002},
{0x2370, 0x4030},
{0x2372, 0xf758},
{0x2374, 0x42a2},
{0x2376, 0x7f0a},
{0x2378, 0x40b2},
{0x237a, 0x000a},
{0x237c, 0x8260},
{0x237e, 0x40b2},
{0x2380, 0x01ea},
{0x2382, 0x8262},
{0x2384, 0x40b2},
{0x2386, 0x03ca},
{0x2388, 0x8264},
{0x238a, 0x40b2},
{0x238c, 0x05aa},
{0x238e, 0x8266},
{0x2390, 0x40b2},
{0x2392, 0xf0ba},
{0x2394, 0x826a},
{0x2396, 0x4382},
{0x2398, 0x81d0},
{0x239a, 0x9382},
{0x239c, 0x7f0a},
{0x239e, 0x2413},
{0x23a0, 0x430e},
{0x23a2, 0x421d},
{0x23a4, 0x826a},
{0x23a6, 0x0800},
{0x23a8, 0x7f08},
{0x23aa, 0x4e0f},
{0x23ac, 0x5f0f},
{0x23ae, 0x4f92},
{0x23b0, 0x8260},
{0x23b2, 0x7f00},
{0x23b4, 0x4d82},
{0x23b6, 0x7f02},
{0x23b8, 0x531e},
{0x23ba, 0x421f},
{0x23bc, 0x7f0a},
{0x23be, 0x9f0e},
{0x23c0, 0x2bf2},
{0x23c2, 0x4e82},
{0x23c4, 0x81d0},
{0x23c6, 0x4079},
{0x23c8, 0xff8b},
{0x23ca, 0x4392},
{0x23cc, 0x731c},
{0x23ce, 0x40b2},
{0x23d0, 0x8038},
{0x23d2, 0x7a00},
{0x23d4, 0x40b2},
{0x23d6, 0x0064},
{0x23d8, 0x7a02},
{0x23da, 0x40b2},
{0x23dc, 0x0304},
{0x23de, 0x7a08},
{0x23e0, 0x40b2},
{0x23e2, 0x0100},
{0x23e4, 0x0126},
{0x23e6, 0x40b2},
{0x23e8, 0x0100},
{0x23ea, 0x01a8},
{0x23ec, 0x40b2},
{0x23ee, 0x0100},
{0x23f0, 0x01aa},
{0x23f2, 0x40b2},
{0x23f4, 0x0100},
{0x23f6, 0x01ac},
{0x23f8, 0x43e2},
{0x23fa, 0x012e},
{0x23fc, 0x40f2},
{0x23fe, 0x0003},
{0x2400, 0x012f},
{0x2402, 0x40f2},
{0x2404, 0x0006},
{0x2406, 0x0130},
{0x2408, 0x43c2},
{0x240a, 0x0131},
{0x240c, 0x9382},
{0x240e, 0x81de},
{0x2410, 0x2411},
{0x2412, 0x4382},
{0x2414, 0x81d0},
{0x2416, 0x421d},
{0x2418, 0x81d0},
{0x241a, 0x4d0e},
{0x241c, 0x5e0e},
{0x241e, 0x4e0f},
{0x2420, 0x510f},
{0x2422, 0x4e9f},
{0x2424, 0x0b00},
{0x2426, 0x0000},
{0x2428, 0x531d},
{0x242a, 0x4d82},
{0x242c, 0x81d0},
{0x242e, 0x903d},
{0x2430, 0x0016},
{0x2432, 0x2bf1},
{0x2434, 0xb3d2},
{0x2436, 0x00ce},
{0x2438, 0x2412},
{0x243a, 0x4382},
{0x243c, 0x81d0},
{0x243e, 0x421e},
{0x2440, 0x81d0},
{0x2442, 0x903e},
{0x2444, 0x0009},
{0x2446, 0x2405},
{0x2448, 0x5e0e},
{0x244a, 0x4e0f},
{0x244c, 0x510f},
{0x244e, 0x4fae},
{0x2450, 0x0b80},
{0x2452, 0x5392},
{0x2454, 0x81d0},
{0x2456, 0x90b2},
{0x2458, 0x0016},
{0x245a, 0x81d0},
{0x245c, 0x2bf0},
{0x245e, 0x9382},
{0x2460, 0x81de},
{0x2462, 0x203b},
{0x2464, 0x0b00},
{0x2466, 0x7302},
{0x2468, 0x0258},
{0x246a, 0x4382},
{0x246c, 0x7904},
{0x246e, 0xb3e2},
{0x2470, 0x00ce},
{0x2472, 0x242d},
{0x2474, 0x4292},
{0x2476, 0x0126},
{0x2478, 0x0580},
{0x247a, 0x4292},
{0x247c, 0x01a8},
{0x247e, 0x0582},
{0x2480, 0x4292},
{0x2482, 0x01aa},
{0x2484, 0x0584},
{0x2486, 0x4292},
{0x2488, 0x01ac},
{0x248a, 0x0586},
{0x248c, 0x9382},
{0x248e, 0x003a},
{0x2490, 0x254d},
{0x2492, 0x90b2},
{0x2494, 0x0011},
{0x2496, 0x003a},
{0x2498, 0x2d49},
{0x249a, 0x403e},
{0x249c, 0x012e},
{0x249e, 0x4e6f},
{0x24a0, 0xf37f},
{0x24a2, 0x521f},
{0x24a4, 0x0126},
{0x24a6, 0x4f82},
{0x24a8, 0x0580},
{0x24aa, 0x4e6f},
{0x24ac, 0xf37f},
{0x24ae, 0x521f},
{0x24b0, 0x01a8},
{0x24b2, 0x4f82},
{0x24b4, 0x0582},
{0x24b6, 0x4e6f},
{0x24b8, 0xf37f},
{0x24ba, 0x521f},
{0x24bc, 0x01aa},
{0x24be, 0x4f82},
{0x24c0, 0x0584},
{0x24c2, 0x4e6f},
{0x24c4, 0xf37f},
{0x24c6, 0x521f},
{0x24c8, 0x01ac},
{0x24ca, 0x4f82},
{0x24cc, 0x0586},
{0x24ce, 0x0900},
{0x24d0, 0x7308},
{0x24d2, 0x403f},
{0x24d4, 0x8268},
{0x24d6, 0x12b0},
{0x24d8, 0xe2dc},
{0x24da, 0x42a2},
{0x24dc, 0x81ea},
{0x24de, 0x40b2},
{0x24e0, 0x0262},
{0x24e2, 0x81ec},
{0x24e4, 0x40b2},
{0x24e6, 0x02e0},
{0x24e8, 0x81ee},
{0x24ea, 0x40b2},
{0x24ec, 0x0532},
{0x24ee, 0x81f0},
{0x24f0, 0x40b2},
{0x24f2, 0x03b6},
{0x24f4, 0x81f2},
{0x24f6, 0x40b2},
{0x24f8, 0x03c4},
{0x24fa, 0x81f4},
{0x24fc, 0x40b2},
{0x24fe, 0x03de},
{0x2500, 0x81f6},
{0x2502, 0x40b2},
{0x2504, 0x0596},
{0x2506, 0x81f8},
{0x2508, 0x40b2},
{0x250a, 0x05c4},
{0x250c, 0x81fa},
{0x250e, 0x40b2},
{0x2510, 0x0776},
{0x2512, 0x81fc},
{0x2514, 0x9382},
{0x2516, 0x81e2},
{0x2518, 0x24fc},
{0x251a, 0x40b2},
{0x251c, 0x028a},
{0x251e, 0x81ee},
{0x2520, 0x40b2},
{0x2522, 0x04e7},
{0x2524, 0x81f0},
{0x2526, 0x12b0},
{0x2528, 0xea88},
{0x252a, 0x0900},
{0x252c, 0x7328},
{0x252e, 0x4682},
{0x2530, 0x7114},
{0x2532, 0x421f},
{0x2534, 0x7316},
{0x2536, 0xc312},
{0x2538, 0x100f},
{0x253a, 0x503f},
{0x253c, 0xff9c},
{0x253e, 0x4f82},
{0x2540, 0x7334},
{0x2542, 0x0f00},
{0x2544, 0x7302},
{0x2546, 0x4392},
{0x2548, 0x7f0c},
{0x254a, 0x4392},
{0x254c, 0x7f10},
{0x254e, 0x4392},
{0x2550, 0x770a},
{0x2552, 0x4392},
{0x2554, 0x770e},
{0x2556, 0x9392},
{0x2558, 0x7114},
{0x255a, 0x208e},
{0x255c, 0x0b00},
{0x255e, 0x7302},
{0x2560, 0x0258},
{0x2562, 0x4382},
{0x2564, 0x7904},
{0x2566, 0x0800},
{0x2568, 0x7118},
{0x256a, 0x403e},
{0x256c, 0x732a},
{0x256e, 0x4e2f},
{0x2570, 0x4f4a},
{0x2572, 0xf35a},
{0x2574, 0xd25a},
{0x2576, 0x81de},
{0x2578, 0x4e2f},
{0x257a, 0xf36f},
{0x257c, 0xdf4a},
{0x257e, 0x421b},
{0x2580, 0x0cd6},
{0x2582, 0x1252},
{0x2584, 0x0cdb},
{0x2586, 0x120b},
{0x2588, 0x1230},
{0x258a, 0x0cce},
{0x258c, 0x1230},
{0x258e, 0x0cf0},
{0x2590, 0x410f},
{0x2592, 0x503f},
{0x2594, 0x0032},
{0x2596, 0x120f},
{0x2598, 0x421c},
{0x259a, 0x0ca0},
{0x259c, 0x421d},
{0x259e, 0x0caa},
{0x25a0, 0x421e},
{0x25a2, 0x0cb4},
{0x25a4, 0x421f},
{0x25a6, 0x0cb2},
{0x25a8, 0x12b0},
{0x25aa, 0xf9b0},
{0x25ac, 0x1252},
{0x25ae, 0x0cdd},
{0x25b0, 0x120b},
{0x25b2, 0x1230},
{0x25b4, 0x0cd0},
{0x25b6, 0x1230},
{0x25b8, 0x0cf2},
{0x25ba, 0x410f},
{0x25bc, 0x503f},
{0x25be, 0x003e},
{0x25c0, 0x120f},
{0x25c2, 0x421c},
{0x25c4, 0x0ca2},
{0x25c6, 0x421d},
{0x25c8, 0x0cac},
{0x25ca, 0x421e},
{0x25cc, 0x0cb8},
{0x25ce, 0x421f},
{0x25d0, 0x0cb6},
{0x25d2, 0x12b0},
{0x25d4, 0xf9b0},
{0x25d6, 0x1252},
{0x25d8, 0x0cdf},
{0x25da, 0x120b},
{0x25dc, 0x1230},
{0x25de, 0x0cd2},
{0x25e0, 0x1230},
{0x25e2, 0x0cf4},
{0x25e4, 0x410f},
{0x25e6, 0x503f},
{0x25e8, 0x004a},
{0x25ea, 0x120f},
{0x25ec, 0x421c},
{0x25ee, 0x0ca4},
{0x25f0, 0x421d},
{0x25f2, 0x0cae},
{0x25f4, 0x421e},
{0x25f6, 0x0cbc},
{0x25f8, 0x421f},
{0x25fa, 0x0cba},
{0x25fc, 0x12b0},
{0x25fe, 0xf9b0},
{0x2600, 0x1252},
{0x2602, 0x0ce1},
{0x2604, 0x120b},
{0x2606, 0x1230},
{0x2608, 0x0cd4},
{0x260a, 0x1230},
{0x260c, 0x0cf6},
{0x260e, 0x410f},
{0x2610, 0x503f},
{0x2612, 0x0056},
{0x2614, 0x120f},
{0x2616, 0x421c},
{0x2618, 0x0ca6},
{0x261a, 0x421d},
{0x261c, 0x0cb0},
{0x261e, 0x421e},
{0x2620, 0x0cc0},
{0x2622, 0x421f},
{0x2624, 0x0cbe},
{0x2626, 0x12b0},
{0x2628, 0xf9b0},
{0x262a, 0x425f},
{0x262c, 0x0c80},
{0x262e, 0xf35f},
{0x2630, 0x5031},
{0x2632, 0x0028},
{0x2634, 0x934f},
{0x2636, 0x2008},
{0x2638, 0x4382},
{0x263a, 0x0cce},
{0x263c, 0x4382},
{0x263e, 0x0cd0},
{0x2640, 0x4382},
{0x2642, 0x0cd2},
{0x2644, 0x4382},
{0x2646, 0x0cd4},
{0x2648, 0x4a4e},
{0x264a, 0xdb0e},
{0x264c, 0x425f},
{0x264e, 0x0c99},
{0x2650, 0xf37f},
{0x2652, 0x934a},
{0x2654, 0x200e},
{0x2656, 0x4e0b},
{0x2658, 0x5b0b},
{0x265a, 0xff0b},
{0x265c, 0x4b82},
{0x265e, 0x0cd6},
{0x2660, 0x0900},
{0x2662, 0x7112},
{0x2664, 0x494f},
{0x2666, 0x12b0},
{0x2668, 0xfb48},
{0x266a, 0x0b00},
{0x266c, 0x7302},
{0x266e, 0x0036},
{0x2670, 0x3f72},
{0x2672, 0x4f0b},
{0x2674, 0xfe0b},
{0x2676, 0x3ff2},
{0x2678, 0x0b00},
{0x267a, 0x7302},
{0x267c, 0x0036},
{0x267e, 0x4392},
{0x2680, 0x7904},
{0x2682, 0x421e},
{0x2684, 0x7100},
{0x2686, 0x9382},
{0x2688, 0x7114},
{0x268a, 0x2009},
{0x268c, 0x421f},
{0x268e, 0x00a2},
{0x2690, 0x9f0e},
{0x2692, 0x2803},
{0x2694, 0x9e82},
{0x2696, 0x00a8},
{0x2698, 0x2c02},
{0x269a, 0x4382},
{0x269c, 0x7904},
{0x269e, 0x93a2},
{0x26a0, 0x7114},
{0x26a2, 0x2424},
{0x26a4, 0x903e},
{0x26a6, 0x0038},
{0x26a8, 0x2815},
{0x26aa, 0x503e},
{0x26ac, 0xffd8},
{0x26ae, 0x4e82},
{0x26b0, 0x7a04},
{0x26b2, 0x43b2},
{0x26b4, 0x7a06},
{0x26b6, 0x9382},
{0x26b8, 0x81e0},
{0x26ba, 0x2408},
{0x26bc, 0x9382},
{0x26be, 0x81e4},
{0x26c0, 0x2411},
{0x26c2, 0x421f},
{0x26c4, 0x7a04},
{0x26c6, 0x832f},
{0x26c8, 0x4f82},
{0x26ca, 0x7a06},
{0x26cc, 0x4392},
{0x26ce, 0x7a0a},
{0x26d0, 0x0800},
{0x26d2, 0x7a0a},
{0x26d4, 0x494f},
{0x26d6, 0x12b0},
{0x26d8, 0xfb48},
{0x26da, 0x930f},
{0x26dc, 0x273c},
{0x26de, 0x4382},
{0x26e0, 0x81de},
{0x26e2, 0x3e94},
{0x26e4, 0x421f},
{0x26e6, 0x7a04},
{0x26e8, 0x532f},
{0x26ea, 0x3fee},
{0x26ec, 0x421f},
{0x26ee, 0x00a6},
{0x26f0, 0x9f0e},
{0x26f2, 0x2803},
{0x26f4, 0x9e82},
{0x26f6, 0x00ac},
{0x26f8, 0x2c02},
{0x26fa, 0x4382},
{0x26fc, 0x7904},
{0x26fe, 0x494f},
{0x2700, 0xc312},
{0x2702, 0x104f},
{0x2704, 0xf359},
{0x2706, 0xe379},
{0x2708, 0x5359},
{0x270a, 0xf079},
{0x270c, 0xffb8},
{0x270e, 0xef49},
{0x2710, 0x3fc9},
{0x2712, 0x9382},
{0x2714, 0x81e0},
{0x2716, 0x2707},
{0x2718, 0x40b2},
{0x271a, 0x001e},
{0x271c, 0x81ec},
{0x271e, 0x40b2},
{0x2720, 0x01d6},
{0x2722, 0x81ee},
{0x2724, 0x40b2},
{0x2726, 0x0205},
{0x2728, 0x81f0},
{0x272a, 0x3efd},
{0x272c, 0x90b2},
{0x272e, 0x0011},
{0x2730, 0x003a},
{0x2732, 0x2807},
{0x2734, 0x90b2},
{0x2736, 0x0080},
{0x2738, 0x003a},
{0x273a, 0x2c03},
{0x273c, 0x403e},
{0x273e, 0x012f},
{0x2740, 0x3eae},
{0x2742, 0x90b2},
{0x2744, 0x0080},
{0x2746, 0x003a},
{0x2748, 0x2ac2},
{0x274a, 0x90b2},
{0x274c, 0x0100},
{0x274e, 0x003a},
{0x2750, 0x2ebe},
{0x2752, 0x403e},
{0x2754, 0x0130},
{0x2756, 0x3ea3},
{0x2758, 0x9382},
{0x275a, 0x81e2},
{0x275c, 0x240b},
{0x275e, 0x40b2},
{0x2760, 0x000e},
{0x2762, 0x8260},
{0x2764, 0x40b2},
{0x2766, 0x0293},
{0x2768, 0x8262},
{0x276a, 0x40b2},
{0x276c, 0xf05e},
{0x276e, 0x826a},
{0x2770, 0x4030},
{0x2772, 0xf396},
{0x2774, 0x40b2},
{0x2776, 0x000e},
{0x2778, 0x8260},
{0x277a, 0x40b2},
{0x277c, 0x02ea},
{0x277e, 0x8262},
{0x2780, 0x40b2},
{0x2782, 0xf000},
{0x2784, 0x826a},
{0x2786, 0x4030},
{0x2788, 0xf396},
{0x278a, 0x421f},
{0x278c, 0x00ac},
{0x278e, 0x821f},
{0x2790, 0x00a6},
{0x2792, 0x531f},
{0x2794, 0x4f0c},
{0x2796, 0x480a},
{0x2798, 0x4030},
{0x279a, 0xf2de},
{0x279c, 0x40b2},
{0x279e, 0x4050},
{0x27a0, 0x0b94},
{0x27a2, 0x4030},
{0x27a4, 0xf270},
{0x27a6, 0xb3e2},
{0x27a8, 0x00b4},
{0x27aa, 0x2002},
{0x27ac, 0x4030},
{0x27ae, 0xf224},
{0x27b0, 0x4316},
{0x27b2, 0x4030},
{0x27b4, 0xf224},
{0x27b6, 0x43d2},
{0x27b8, 0x0180},
{0x27ba, 0x4392},
{0x27bc, 0x760e},
{0x27be, 0x9382},
{0x27c0, 0x760c},
{0x27c2, 0x2002},
{0x27c4, 0x0c64},
{0x27c6, 0x3ffb},
{0x27c8, 0x421f},
{0x27ca, 0x760a},
{0x27cc, 0x932f},
{0x27ce, 0x2012},
{0x27d0, 0x421b},
{0x27d2, 0x018a},
{0x27d4, 0x4b82},
{0x27d6, 0x7600},
{0x27d8, 0x12b0},
{0x27da, 0xfbc0},
{0x27dc, 0x903b},
{0x27de, 0x1000},
{0x27e0, 0x2806},
{0x27e2, 0x403f},
{0x27e4, 0x8028},
{0x27e6, 0x12b0},
{0x27e8, 0xfbd4},
{0x27ea, 0x4b0d},
{0x27ec, 0x3fe6},
{0x27ee, 0x403f},
{0x27f0, 0x0028},
{0x27f2, 0x3ff9},
{0x27f4, 0x903f},
{0x27f6, 0x0003},
{0x27f8, 0x28af},
{0x27fa, 0x903f},
{0x27fc, 0x0102},
{0x27fe, 0x208a},
{0x2800, 0x43c2},
{0x2802, 0x018c},
{0x2804, 0x425f},
{0x2806, 0x0186},
{0x2808, 0x4f49},
{0x280a, 0x93d2},
{0x280c, 0x018f},
{0x280e, 0x2480},
{0x2810, 0x425f},
{0x2812, 0x018f},
{0x2814, 0x4f4a},
{0x2816, 0x4b0e},
{0x2818, 0x108e},
{0x281a, 0xf37e},
{0x281c, 0xc312},
{0x281e, 0x100e},
{0x2820, 0x110e},
{0x2822, 0x110e},
{0x2824, 0x110e},
{0x2826, 0x4d0f},
{0x2828, 0x108f},
{0x282a, 0xf37f},
{0x282c, 0xc312},
{0x282e, 0x100f},
{0x2830, 0x110f},
{0x2832, 0x110f},
{0x2834, 0x110f},
{0x2836, 0x9f0e},
{0x2838, 0x240d},
{0x283a, 0x0261},
{0x283c, 0x0000},
{0x283e, 0x4b82},
{0x2840, 0x7600},
{0x2842, 0x12b0},
{0x2844, 0xfbc0},
{0x2846, 0x903b},
{0x2848, 0x1000},
{0x284a, 0x285f},
{0x284c, 0x403f},
{0x284e, 0x8028},
{0x2850, 0x12b0},
{0x2852, 0xfbd4},
{0x2854, 0x4382},
{0x2856, 0x81d0},
{0x2858, 0x430c},
{0x285a, 0x4c0d},
{0x285c, 0x431f},
{0x285e, 0x4c0e},
{0x2860, 0x930e},
{0x2862, 0x2403},
{0x2864, 0x5f0f},
{0x2866, 0x831e},
{0x2868, 0x23fd},
{0x286a, 0xf90f},
{0x286c, 0x2444},
{0x286e, 0x430f},
{0x2870, 0x9a0f},
{0x2872, 0x2c2c},
{0x2874, 0x4c0e},
{0x2876, 0x4b82},
{0x2878, 0x7600},
{0x287a, 0x4e82},
{0x287c, 0x7602},
{0x287e, 0x4982},
{0x2880, 0x7604},
{0x2882, 0x0264},
{0x2884, 0x0000},
{0x2886, 0x0224},
{0x2888, 0x0000},
{0x288a, 0x0264},
{0x288c, 0x0000},
{0x288e, 0x0260},
{0x2890, 0x0000},
{0x2892, 0x0268},
{0x2894, 0x0000},
{0x2896, 0x0c5a},
{0x2898, 0x02e8},
{0x289a, 0x0000},
{0x289c, 0x0cb5},
{0x289e, 0x02a8},
{0x28a0, 0x0000},
{0x28a2, 0x0cb5},
{0x28a4, 0x0cb5},
{0x28a6, 0x0cb5},
{0x28a8, 0x0cb5},
{0x28aa, 0x0cb5},
{0x28ac, 0x0cb5},
{0x28ae, 0x0cb5},
{0x28b0, 0x0cb5},
{0x28b2, 0x0c00},
{0x28b4, 0x02e8},
{0x28b6, 0x0000},
{0x28b8, 0x0cb5},
{0x28ba, 0x0268},
{0x28bc, 0x0000},
{0x28be, 0x0c64},
{0x28c0, 0x0260},
{0x28c2, 0x0000},
{0x28c4, 0x0c64},
{0x28c6, 0x531f},
{0x28c8, 0x9a0f},
{0x28ca, 0x2bd5},
{0x28cc, 0x4c82},
{0x28ce, 0x7602},
{0x28d0, 0x4b82},
{0x28d2, 0x7600},
{0x28d4, 0x0270},
{0x28d6, 0x0000},
{0x28d8, 0x0c1c},
{0x28da, 0x0270},
{0x28dc, 0x0001},
{0x28de, 0x421f},
{0x28e0, 0x7606},
{0x28e2, 0x4f4e},
{0x28e4, 0x431f},
{0x28e6, 0x930d},
{0x28e8, 0x2403},
{0x28ea, 0x5f0f},
{0x28ec, 0x831d},
{0x28ee, 0x23fd},
{0x28f0, 0xff4e},
{0x28f2, 0xdec2},
{0x28f4, 0x018c},
{0x28f6, 0x531c},
{0x28f8, 0x923c},
{0x28fa, 0x2baf},
{0x28fc, 0x4c82},
{0x28fe, 0x81d0},
{0x2900, 0x0260},
{0x2902, 0x0000},
{0x2904, 0x4b0d},
{0x2906, 0x531b},
{0x2908, 0x3f58},
{0x290a, 0x403f},
{0x290c, 0x0028},
{0x290e, 0x3fa0},
{0x2910, 0x432a},
{0x2912, 0x3f81},
{0x2914, 0x903f},
{0x2916, 0x0201},
{0x2918, 0x2350},
{0x291a, 0x531b},
{0x291c, 0x4b0e},
{0x291e, 0x108e},
{0x2920, 0xf37e},
{0x2922, 0xc312},
{0x2924, 0x100e},
{0x2926, 0x110e},
{0x2928, 0x110e},
{0x292a, 0x110e},
{0x292c, 0x4d0f},
{0x292e, 0x108f},
{0x2930, 0xf37f},
{0x2932, 0xc312},
{0x2934, 0x100f},
{0x2936, 0x110f},
{0x2938, 0x110f},
{0x293a, 0x110f},
{0x293c, 0x9f0e},
{0x293e, 0x2406},
{0x2940, 0x0261},
{0x2942, 0x0000},
{0x2944, 0x4b82},
{0x2946, 0x7600},
{0x2948, 0x12b0},
{0x294a, 0xfbc0},
{0x294c, 0x4b0f},
{0x294e, 0x12b0},
{0x2950, 0xfbfe},
{0x2952, 0x4fc2},
{0x2954, 0x0188},
{0x2956, 0x3f49},
{0x2958, 0x931f},
{0x295a, 0x232f},
{0x295c, 0x421b},
{0x295e, 0x018a},
{0x2960, 0x3ff1},
{0x2962, 0x40b2},
{0x2964, 0x1807},
{0x2966, 0x0b82},
{0x2968, 0x40b2},
{0x296a, 0x3540},
{0x296c, 0x0b84},
{0x296e, 0x40b2},
{0x2970, 0x3540},
{0x2972, 0x0b86},
{0x2974, 0x4382},
{0x2976, 0x0b88},
{0x2978, 0x4382},
{0x297a, 0x0b8a},
{0x297c, 0x4382},
{0x297e, 0x0b8c},
{0x2980, 0x40b2},
{0x2982, 0x8200},
{0x2984, 0x0b8e},
{0x2986, 0x4382},
{0x2988, 0x0ba6},
{0x298a, 0x43c2},
{0x298c, 0x01a0},
{0x298e, 0x43c2},
{0x2990, 0x01a2},
{0x2992, 0x43c2},
{0x2994, 0x019d},
{0x2996, 0x40f2},
{0x2998, 0x000a},
{0x299a, 0x0f90},
{0x299c, 0x43c2},
{0x299e, 0x0f82},
{0x29a0, 0x43c2},
{0x29a2, 0x003d},
{0x29a4, 0x4030},
{0x29a6, 0xf17e},
{0x29a8, 0x5031},
{0x29aa, 0x0032},
{0x29ac, 0x4030},
{0x29ae, 0xfc12},
{0x29b0, 0x120b},
{0x29b2, 0x120a},
{0x29b4, 0x1209},
{0x29b6, 0x1208},
{0x29b8, 0x1207},
{0x29ba, 0x1206},
{0x29bc, 0x1205},
{0x29be, 0x1204},
{0x29c0, 0x8231},
{0x29c2, 0x4037},
{0x29c4, 0x001a},
{0x29c6, 0x5107},
{0x29c8, 0x4c06},
{0x29ca, 0x47a1},
{0x29cc, 0x0000},
{0x29ce, 0x4791},
{0x29d0, 0x0002},
{0x29d2, 0x0002},
{0x29d4, 0x4715},
{0x29d6, 0x0004},
{0x29d8, 0x4791},
{0x29da, 0x0006},
{0x29dc, 0x0004},
{0x29de, 0x4f0b},
{0x29e0, 0x430a},
{0x29e2, 0x4e08},
{0x29e4, 0x4309},
{0x29e6, 0xda08},
{0x29e8, 0xdb09},
{0x29ea, 0x5d06},
{0x29ec, 0x432e},
{0x29ee, 0x421f},
{0x29f0, 0x0a86},
{0x29f2, 0x821e},
{0x29f4, 0x81e0},
{0x29f6, 0x930e},
{0x29f8, 0x2403},
{0x29fa, 0x5f0f},
{0x29fc, 0x831e},
{0x29fe, 0x23fd},
{0x2a00, 0x8f06},
{0x2a02, 0x475f},
{0x2a04, 0x0008},
{0x2a06, 0x421e},
{0x2a08, 0x00ba},
{0x2a0a, 0x4f0a},
{0x2a0c, 0x4e0c},
{0x2a0e, 0x12b0},
{0x2a10, 0xfc16},
{0x2a12, 0x4e0a},
{0x2a14, 0x460c},
{0x2a16, 0x430b},
{0x2a18, 0x430d},
{0x2a1a, 0x12b0},
{0x2a1c, 0xfc4c},
{0x2a1e, 0x108e},
{0x2a20, 0x108f},
{0x2a22, 0xef4e},
{0x2a24, 0xef0e},
{0x2a26, 0xf37f},
{0x2a28, 0xc312},
{0x2a2a, 0x100f},
{0x2a2c, 0x100e},
{0x2a2e, 0x110f},
{0x2a30, 0x100e},
{0x2a32, 0x110f},
{0x2a34, 0x100e},
{0x2a36, 0x110f},
{0x2a38, 0x100e},
{0x2a3a, 0x110f},
{0x2a3c, 0x100e},
{0x2a3e, 0x110f},
{0x2a40, 0x100e},
{0x2a42, 0x110f},
{0x2a44, 0x100e},
{0x2a46, 0x5e08},
{0x2a48, 0x6f09},
{0x2a4a, 0x5808},
{0x2a4c, 0x6909},
{0x2a4e, 0x5808},
{0x2a50, 0x6909},
{0x2a52, 0x5808},
{0x2a54, 0x6909},
{0x2a56, 0x5808},
{0x2a58, 0x6909},
{0x2a5a, 0x5808},
{0x2a5c, 0x6909},
{0x2a5e, 0x5808},
{0x2a60, 0x6909},
{0x2a62, 0x460e},
{0x2a64, 0x430f},
{0x2a66, 0x480c},
{0x2a68, 0x490d},
{0x2a6a, 0x4e0a},
{0x2a6c, 0x4f0b},
{0x2a6e, 0x12b0},
{0x2a70, 0xfc6c},
{0x2a72, 0x4c08},
{0x2a74, 0xb392},
{0x2a76, 0x732a},
{0x2a78, 0x203c},
{0x2a7a, 0xb3a2},
{0x2a7c, 0x732a},
{0x2a7e, 0x2039},
{0x2a80, 0x9382},
{0x2a82, 0x81de},
{0x2a84, 0x2036},
{0x2a86, 0x9381},
{0x2a88, 0x0004},
{0x2a8a, 0x2033},
{0x2a8c, 0x430d},
{0x2a8e, 0x4037},
{0x2a90, 0x0c98},
{0x2a92, 0x476f},
{0x2a94, 0x4f4e},
{0x2a96, 0x430f},
{0x2a98, 0x4c0a},
{0x2a9a, 0x4d0b},
{0x2a9c, 0x4e0c},
{0x2a9e, 0x4f0d},
{0x2aa0, 0x12b0},
{0x2aa2, 0xfc2c},
{0x2aa4, 0x4e08},
{0x2aa6, 0x4f09},
{0x2aa8, 0x412f},
{0x2aaa, 0x4f2c},
{0x2aac, 0x430d},
{0x2aae, 0x476f},
{0x2ab0, 0x4f4e},
{0x2ab2, 0x403f},
{0x2ab4, 0x0100},
{0x2ab6, 0x8e0f},
{0x2ab8, 0x4f0e},
{0x2aba, 0x4e0f},
{0x2abc, 0x5f0f},
{0x2abe, 0x7f0f},
{0x2ac0, 0xe33f},
{0x2ac2, 0x4c0a},
{0x2ac4, 0x4d0b},
{0x2ac6, 0x4e0c},
{0x2ac8, 0x4f0d},
{0x2aca, 0x12b0},
{0x2acc, 0xfc2c},
{0x2ace, 0x5e08},
{0x2ad0, 0x6f09},
{0x2ad2, 0x1088},
{0x2ad4, 0x1089},
{0x2ad6, 0xe948},
{0x2ad8, 0xe908},
{0x2ada, 0xf379},
{0x2adc, 0x480f},
{0x2ade, 0xf03f},
{0x2ae0, 0x003f},
{0x2ae2, 0x4f81},
{0x2ae4, 0x0006},
{0x2ae6, 0x4034},
{0x2ae8, 0x0040},
{0x2aea, 0x8114},
{0x2aec, 0x0006},
{0x2aee, 0xf034},
{0x2af0, 0x003f},
{0x2af2, 0x412f},
{0x2af4, 0x488f},
{0x2af6, 0x0000},
{0x2af8, 0xb0f2},
{0x2afa, 0x0010},
{0x2afc, 0x0c83},
{0x2afe, 0x240a},
{0x2b00, 0x411f},
{0x2b02, 0x0006},
{0x2b04, 0x5f0f},
{0x2b06, 0x5f0f},
{0x2b08, 0x5f0f},
{0x2b0a, 0x5f0f},
{0x2b0c, 0x5f0f},
{0x2b0e, 0x4f85},
{0x2b10, 0x0000},
{0x2b12, 0x3c0c},
{0x2b14, 0xb038},
{0x2b16, 0x003f},
{0x2b18, 0x2407},
{0x2b1a, 0xb3d2},
{0x2b1c, 0x0588},
{0x2b1e, 0x2404},
{0x2b20, 0x5038},
{0x2b22, 0x0040},
{0x2b24, 0x440f},
{0x2b26, 0x3fee},
{0x2b28, 0x4385},
{0x2b2a, 0x0000},
{0x2b2c, 0x411f},
{0x2b2e, 0x0002},
{0x2b30, 0x488f},
{0x2b32, 0x0000},
{0x2b34, 0x5231},
{0x2b36, 0x4134},
{0x2b38, 0x4135},
{0x2b3a, 0x4136},
{0x2b3c, 0x4137},
{0x2b3e, 0x4138},
{0x2b40, 0x4139},
{0x2b42, 0x413a},
{0x2b44, 0x413b},
{0x2b46, 0x4130},
{0x2b48, 0x4f4e},
{0x2b4a, 0x421f},
{0x2b4c, 0x7316},
{0x2b4e, 0xc312},
{0x2b50, 0x100f},
{0x2b52, 0x821f},
{0x2b54, 0x81e6},
{0x2b56, 0x4f82},
{0x2b58, 0x7334},
{0x2b5a, 0x0f00},
{0x2b5c, 0x7302},
{0x2b5e, 0xb0b2},
{0x2b60, 0x000f},
{0x2b62, 0x7300},
{0x2b64, 0x200e},
{0x2b66, 0x403f},
{0x2b68, 0x0cd8},
{0x2b6a, 0x43df},
{0x2b6c, 0x0000},
{0x2b6e, 0x43cf},
{0x2b70, 0x0000},
{0x2b72, 0x4ec2},
{0x2b74, 0x0c5a},
{0x2b76, 0x4ec2},
{0x2b78, 0x0c5c},
{0x2b7a, 0x4ec2},
{0x2b7c, 0x0c5e},
{0x2b7e, 0x4ec2},
{0x2b80, 0x0c60},
{0x2b82, 0x421f},
{0x2b84, 0x7112},
{0x2b86, 0x93a2},
{0x2b88, 0x7114},
{0x2b8a, 0x2408},
{0x2b8c, 0x9382},
{0x2b8e, 0x7112},
{0x2b90, 0x2403},
{0x2b92, 0x5292},
{0x2b94, 0x81dc},
{0x2b96, 0x7114},
{0x2b98, 0x430f},
{0x2b9a, 0x4130},
{0x2b9c, 0xf31f},
{0x2b9e, 0x27f6},
{0x2ba0, 0x4382},
{0x2ba2, 0x7f10},
{0x2ba4, 0x40b2},
{0x2ba6, 0x0003},
{0x2ba8, 0x7114},
{0x2baa, 0x40b2},
{0x2bac, 0x000a},
{0x2bae, 0x7334},
{0x2bb0, 0x0f00},
{0x2bb2, 0x7302},
{0x2bb4, 0x4392},
{0x2bb6, 0x7708},
{0x2bb8, 0x4382},
{0x2bba, 0x770e},
{0x2bbc, 0x431f},
{0x2bbe, 0x4130},
{0x2bc0, 0x0260},
{0x2bc2, 0x0000},
{0x2bc4, 0x0c64},
{0x2bc6, 0x0c64},
{0x2bc8, 0x0240},
{0x2bca, 0x0000},
{0x2bcc, 0x0260},
{0x2bce, 0x0000},
{0x2bd0, 0x0c1e},
{0x2bd2, 0x4130},
{0x2bd4, 0x4f0e},
{0x2bd6, 0xc312},
{0x2bd8, 0x100f},
{0x2bda, 0x110f},
{0x2bdc, 0xc312},
{0x2bde, 0x100f},
{0x2be0, 0x4f82},
{0x2be2, 0x7600},
{0x2be4, 0xf03e},
{0x2be6, 0x0007},
{0x2be8, 0x4e82},
{0x2bea, 0x7602},
{0x2bec, 0x0262},
{0x2bee, 0x0000},
{0x2bf0, 0x0222},
{0x2bf2, 0x0000},
{0x2bf4, 0x0262},
{0x2bf6, 0x0000},
{0x2bf8, 0x0260},
{0x2bfa, 0x0000},
{0x2bfc, 0x4130},
{0x2bfe, 0x4f82},
{0x2c00, 0x7600},
{0x2c02, 0x0270},
{0x2c04, 0x0000},
{0x2c06, 0x0c1c},
{0x2c08, 0x0270},
{0x2c0a, 0x0001},
{0x2c0c, 0x421f},
{0x2c0e, 0x7606},
{0x2c10, 0x4130},
{0x2c12, 0xdf02},
{0x2c14, 0x3ffe},
{0x2c16, 0x430e},
{0x2c18, 0x930a},
{0x2c1a, 0x2407},
{0x2c1c, 0xc312},
{0x2c1e, 0x100c},
{0x2c20, 0x2801},
{0x2c22, 0x5a0e},
{0x2c24, 0x5a0a},
{0x2c26, 0x930c},
{0x2c28, 0x23f7},
{0x2c2a, 0x4130},
{0x2c2c, 0x430e},
{0x2c2e, 0x430f},
{0x2c30, 0x3c08},
{0x2c32, 0xc312},
{0x2c34, 0x100d},
{0x2c36, 0x100c},
{0x2c38, 0x2802},
{0x2c3a, 0x5a0e},
{0x2c3c, 0x6b0f},
{0x2c3e, 0x5a0a},
{0x2c40, 0x6b0b},
{0x2c42, 0x930c},
{0x2c44, 0x23f6},
{0x2c46, 0x930d},
{0x2c48, 0x23f4},
{0x2c4a, 0x4130},
{0x2c4c, 0x4030},
{0x2c4e, 0xfc2c},
{0x2c50, 0xee0e},
{0x2c52, 0x403b},
{0x2c54, 0x0011},
{0x2c56, 0x3c05},
{0x2c58, 0x100d},
{0x2c5a, 0x6e0e},
{0x2c5c, 0x9a0e},
{0x2c5e, 0x2801},
{0x2c60, 0x8a0e},
{0x2c62, 0x6c0c},
{0x2c64, 0x6d0d},
{0x2c66, 0x831b},
{0x2c68, 0x23f7},
{0x2c6a, 0x4130},
{0x2c6c, 0xef0f},
{0x2c6e, 0xee0e},
{0x2c70, 0x4039},
{0x2c72, 0x0021},
{0x2c74, 0x3c0a},
{0x2c76, 0x1008},
{0x2c78, 0x6e0e},
{0x2c7a, 0x6f0f},
{0x2c7c, 0x9b0f},
{0x2c7e, 0x2805},
{0x2c80, 0x2002},
{0x2c82, 0x9a0e},
{0x2c84, 0x2802},
{0x2c86, 0x8a0e},
{0x2c88, 0x7b0f},
{0x2c8a, 0x6c0c},
{0x2c8c, 0x6d0d},
{0x2c8e, 0x6808},
{0x2c90, 0x8319},
{0x2c92, 0x23f1},
{0x2c94, 0x4130},
{0x2c96, 0x4130},
{0x2ffe, 0xf12a},
{0x3000, 0x01fc},
{0x3002, 0x09fc},
{0x3004, 0x320f},
{0x3006, 0x0001},
{0x3008, 0x01fc},
{0x300a, 0x09fc},
{0x300c, 0x320f},
{0x300e, 0x0001},
{0x3010, 0x01fc},
{0x3012, 0x09fc},
{0x3014, 0x320f},
{0x3016, 0x0001},
{0x4000, 0x2500},
{0x4002, 0x2440},
{0x4004, 0xfc2c},
{0x4006, 0xc004},
{0x4008, 0x2500},
{0x400a, 0x2440},
{0x400c, 0xfc2c},
{0x400e, 0xc004},
{0x4010, 0x2500},
{0x4012, 0x2440},
{0x4014, 0xfc2c},
{0x4016, 0xc004},
//    EOFIRM
{0x0a00, 0x0000}, //stream off
{0x0b00, 0x0000}, //sreg00
{0x0b02, 0x9887}, //sreg01
{0x0b04, 0xc540}, //sreg02 - PCP 3.8V
{0x0b06, 0xb540}, //sreg03
{0x0b08, 0x0085}, //sreg04
{0x0b0a, 0xd254}, //sreg05
{0x0b0c, 0x0420}, //sreg06
{0x0b0e, 0xc200}, //sreg07
{0x0b10, 0xac20}, //sreg08 - ADC Input Rng. 400mV
{0x0b12, 0x0000}, //sreg09
{0x0b14, 0x4050}, //sreg10
{0x0b16, 0x6e0b}, //sreg11
{0x0b18, 0xf20b}, //sreg12
{0x0b1a, 0x0000}, //sreg13
{0x0b1c, 0x0000}, //sreg14
{0x0b1e, 0x0081}, //sreg15
{0x0b20, 0x0000}, //sreg16
{0x0b22, 0xcc80}, //sreg17
{0x0b24, 0x0000}, //sreg18
{0x0b26, 0x0001}, //sreg19
{0x0b28, 0x0807}, //sreg20
{0x0c00, 0x1190}, //blc_ctrl0 - b4:dpc_en b0:blc_en, blc_ctrl1 - b7:bwi b4:act_ofs b0:tobp_ofs
{0x0c02, 0x0011}, //blc_ctrl2 - b0:median_out_en, blc_ctrl3 - b7:clip b5:dither_debug b4:dither_en b0:channel_blc
{0x0c04, 0x0000}, //blc_ctrl4 - b7:obp bypass
{0x0c06, 0x0200}, //blc_dig_offset
{0x0c10, 0x0040}, //act_rr_offset
{0x0c12, 0x0040}, //act_gr_offset
{0x0c14, 0x0040}, //act_gb_offset
{0x0c16, 0x0040}, //act_bb_offset
{0x0c18, 0x80ff}, //fobp_iir_ctrl0
{0x0c5a, 0x0000}, //ag_weight_rr
{0x0c5c, 0x0200}, //ag_weight_gr
{0x0c5e, 0x0400}, //ag_weight_gb
{0x0c60, 0x0600}, //ag_weight_bb
{0x0000, 0x0100}, //image orient
{0x0f0a, 0x0000}, //rom_clk1x_bypass
{0x0e0a, 0x0001}, //tg_pmem_cen, rom_cen enable
{0x004a, 0x0100}, //tg enable,hdr off
{0x000c, 0x0022}, //bininng off
{0x0008, 0x0b70}, //line length pck
{0x000a, 0x0f00}, //line length pck_prev
{0x005a, 0x0404}, //y dummy size
{0x0012, 0x0008}, //x addr start active
{0x0018, 0x0a37}, //x addr end active
{0x0034, 0x0700}, //y region sel
{0x0022, 0x0008}, //y addr start tobp
{0x0028, 0x0017}, //y addr end tobp
{0x0024, 0x0032}, //y addr start dummy
{0x002a, 0x003b}, //y addr end dummy
{0x0026, 0x0040}, //y addr start active
{0x002c, 0x07d7}, //y addr end active
{0x002e, 0x1111}, //y even/odd inc tobp
{0x0030, 0x1111}, //y even/odd inc dummy
{0x0032, 0x1111}, //y even/odd inc active
{0x001a, 0x1111}, //x even/odd inc0
{0x001c, 0x1111}, //x even/odd inc1
{0x001e, 0x1111}, //x even/odd inc active
{0x0006, 0x07c8}, //frame length lines
{0x0a22, 0x0000}, //digial binning mode off
{0x0a12, 0x0a20}, //x output size
{0x0a14, 0x0798}, //y output size
{0x003e, 0x0000}, //test mode sel - off
{0x0004, 0x07d3}, //coarse integ time
{0x0052, 0x018c}, //coarse integ time_short for hdr
{0x0002, 0x0000}, //fine integ time
{0x0a02, 0x0100}, //fast standby mode
{0x0a04, 0x014a}, //isp_en, adpc on, Digital Gain enable
{0x0a1a, 0x0800}, //Digital Gain Pedestal enable
{0x0508, 0x0100}, //r_dga_dither on
{0x0046, 0x0000}, //grouped para hold
{0x003a, 0x0000}, //analog gain 1x
{0x0036, 0x0070}, //ramp init/rst pofs
{0x0038, 0x7000}, //ramp sig pofs
{0x004c, 0x7070}, //ramp prst/psig pofs
{0x0122, 0x0301}, //d2a_pxl_drv_pwr_hv/lv - rx pcp on
{0x0804, 0x0002}, //r_x_start
{0x004e, 0x0100}, //bit0 : SREG update for ESD, bit1:DGA Remap
{0x0902, 0x4319}, //mipi_tx_op_mode1, mipi_tx_op_mode2
{0x0914, 0xc107}, //mipi_exit_seq, tlpx
{0x0916, 0x061d}, //tclk_prepare, tclk_zero
{0x091c, 0x0e09}, //tclk_post, tclk_trail
{0x0918, 0x0306}, //tclk_pre, ths_prepare
{0x091a, 0x0c0c}, //ths_zero, ths_trail
{0x091e, 0x0a00}, //mipi_exit, null
{0x090c, 0x1648}, //mipi_vblank_delay
{0x090e, 0x0071}, //mipi_hblank_delay
//===============================================
//             mipi 2 lane 880Mbp
//===============================================
{0x0902, 0x4319}, //mipi_tx_op_mode1, mipi_tx_op_mode2
{0x0914, 0xc107}, //mipi_exit_seq, tlpx
{0x0916, 0x061d}, //tclk_prepare, tclk_zero
{0x091c, 0x0e09}, //tclk_post, tclk_trail
{0x0918, 0x0306}, //tclk_pre, ths_prepare
{0x091a, 0x0c0c}, //ths_zero, ths_trail
{0x091e, 0x0a00}, //mipi_exit, null
{0x090c, 0x1ec0}, //mipi_vblank_delay
{0x090e, 0x0020}, //mipi_hblank_delay
#endif
};
/*OTP READ STATUS*/
#define HI553_OTP_MODULE_INFO_READ   (1 << 0)
#define HI553_OTP_AWB_READ           (1 << 1)
#define HI553_OTP_AF_READ            (1 << 2)
#define HI553_OTP_LSC_READ           (1 << 3)
#define HI553_OTP_FAIL_FLAG          (1 << 4)

#define HI553_OTP_SUCCESS (HI553_OTP_MODULE_INFO_READ|HI553_OTP_AWB_READ|HI553_OTP_AF_READ|HI553_OTP_LSC_READ)

#define HI553_MMI_OTP_MODULE_INFO_FLAG  (1 << 0)
#define HI553_MMI_OTP_AWB_FLAG          (1 << 1)
#define HI553_MMI_OTP_AF_FLAG           (1 << 2)
#define HI553_MMI_OTP_LSC_FLAG          (1 << 3)
#define HI553_MMI_OTP_FAIL (HI553_MMI_OTP_MODULE_INFO_FLAG|HI553_MMI_OTP_AWB_FLAG|HI553_MMI_OTP_AF_FLAG|HI553_OTP_LSC_READ)

static st_hi553_otp_info hi553_otp_info = {0};
static uint16_t  hi553_otp_flag   = 0;
static struct msm_camera_i2c_reg_setting st_hi553_otp_init;
/****************************************************************************
 * FunctionName: hi553_otp_write_i2c;
 * Description : write otp info via i2c;
 ***************************************************************************/
static int32_t hi553_otp_write_i2c(struct msm_sensor_ctrl_t *s_ctrl, int32_t addr, uint16_t data)
{
	int32_t rc = 0;
	int32_t i = 0;

	for(i = 0; i < HI553_I2C_RETRY_TIMES; i++){
		rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_write(
 		s_ctrl->sensor_i2c_client,
 		addr,
 		data,
 		MSM_CAMERA_I2C_BYTE_DATA);

		if (rc < 0) {
			CMR_LOGE("%s, failed i = %d",__func__,i);
			continue;
		}
		break;
	}

	if ( rc < 0 ){
		CMR_LOGE("%s fail, rc = %d! addr = 0x%x, data = 0x%x\n", __func__, rc, addr, data);
#ifdef CONFIG_HUAWEI_DSM
		camera_report_dsm_err_otp(s_ctrl, DSM_CAMERA_OTP_I2C_ERR, addr, OTP_WRITE_I2C_ERR);
#endif
	}

	return rc;
}

/****************************************************************************
 * FunctionName: hi553_otp_write_i2c_table;
 * Description : write otp info via i2c;
 ***************************************************************************/
static int32_t hi553_otp_write_i2c_table(struct msm_sensor_ctrl_t *s_ctrl, struct msm_camera_i2c_reg_setting *write_setting)
{
	int32_t rc = 0;
	int32_t i = 0;

	if(NULL == write_setting){
	CMR_LOGE("%s fail,noting to write i2c \n", __func__);
	return -1;
	}
	for(i = 0; i < HI553_I2C_RETRY_TIMES; i++){
		rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_write_table(
 		s_ctrl->sensor_i2c_client,write_setting);

		if (rc < 0){
			CMR_LOGE("%s, failed i = %d",__func__,i);
			continue;
		}
		break;
	}

	if ( rc < 0 ){
	CMR_LOGE("%s fail, rc = %d! \n", __func__, rc);
#ifdef CONFIG_HUAWEI_DSM
		camera_report_dsm_err_otp(s_ctrl, DSM_CAMERA_OTP_I2C_ERR, 0, OTP_WRITE_I2C_ERR);
#endif
	}
	return rc;
}

/****************************************************************************
 * FunctionName: hi553_otp_read_i2c;
 * Description : read otp info via i2c;
 ***************************************************************************/
static int32_t hi553_otp_read_i2c(struct msm_sensor_ctrl_t *s_ctrl,uint32_t addr, uint16_t *data)
{
	int32_t rc = 0;

	rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_read(s_ctrl->sensor_i2c_client,
				addr,
				data,
				MSM_CAMERA_I2C_BYTE_DATA);
	if ( rc < 0 ){
		CMR_LOGE("%s fail, rc = %d! addr = 0x%x, data = 0x%x\n", __func__, rc, addr, *data);
#ifdef CONFIG_HUAWEI_DSM
		camera_report_dsm_err_otp(s_ctrl, DSM_CAMERA_OTP_I2C_ERR, addr, OTP_READ_I2C_ERR);
#endif
	}
	return rc;
}

static int32_t hi553_otp_single_read(struct msm_sensor_ctrl_t *s_ctrl,uint32_t addr, uint16_t *data)
{
	loge_if_ret(hi553_otp_write_i2c(s_ctrl, 0x010a, (addr>>8)&0xFF));
	loge_if_ret(hi553_otp_write_i2c(s_ctrl, 0x010b, addr&0xFF));
	loge_if_ret(hi553_otp_write_i2c(s_ctrl, 0x0102, 0x01));
	loge_if_ret(hi553_otp_read_i2c(s_ctrl,0x0108,data));
	return 0;
}

//hi553_otp_get_group(s_ctrl, GROUP_TYPE_MODULE,  HI553_MODULE_REG_NO, &group);
//hi553_module_info_otp_read_addr  int32_t addr
static int hi553_otp_get_group(struct msm_sensor_ctrl_t* s_ctrl, enum_hi553_type group_type, enum_hi553_groups *group_sel)
{
	uint16_t group_flag = 0xff;
	int32_t i,  rc;
	uint16_t addr;

	for(i=0; i< ARRAY_SIZE(hi553_module_info_otp_read_addr); i++)
	{
		addr=hi553_module_info_otp_read_addr[i][group_type];
		if(!addr)
		{
			CMR_LOGE("addr == 0, group is null. continue.\n");
			continue;
		}
		rc = hi553_otp_single_read(s_ctrl,addr,&group_flag);
		CMR_LOGE("%s read group addr=0x%x, group_type=0x%x\n",__func__,addr, group_type);
		if(rc < 0){
			CMR_LOGE("%s read group addr=0x%x\n",__func__,addr);
			return -1;
		}
		if(group_flag == 1)
		{
			*group_sel = i;
			CMR_LOGE("%s type:0x%x group_sel =0x%x\n",__func__,group_type, *group_sel);
			return 0;
		}
		CMR_LOGE("%s [group:0x%x type:0x%x group_flag:0x%x] continue\n",__func__,i,group_type,group_flag);
	}

	CMR_LOGE("%s [group_type:0x%x error\n",__func__,group_type);
	return -1;
}

static int hi553_otp_continuous_read(struct msm_sensor_ctrl_t* s_ctrl,uint16_t addr,int rd_num,
						uint16_t * rd_buf,int *sum, int *checksum_otp)
{
	int rc = 0;
	int i=0;
	int sum1=0;

	loge_if_ret(hi553_otp_write_i2c(s_ctrl, 0x010a, (addr)>>8&0xFF));//continus single read mode
	loge_if_ret(hi553_otp_write_i2c(s_ctrl, 0x010b, (addr)&0xFF));
	loge_if_ret(hi553_otp_write_i2c(s_ctrl, 0x0102, 0x01));

	for(i = 0; i < rd_num; i++)
	{
	    rc = hi553_otp_read_i2c(s_ctrl, 0x0108, &rd_buf[i]);
		if(rc < 0){
			CMR_LOGE("%s ,%d,fail hi553_otp_read_i2c,i=%d,rc=%d\n", __func__,__LINE__,i,rc);
			return -1;
		}
		sum1 += rd_buf[i];
	}
	hi553_otp_read_i2c(s_ctrl, 0x0108, checksum_otp);

	if(sum != NULL){
		*sum= sum1;
	}
	return rc;
}

static int hi553_otp_get_module_info(struct msm_sensor_ctrl_t* s_ctrl,uint16_t module_addr)
{
	uint16_t buf[HI553_MODULE_REG_NO] = {0};
	int rc = 0;
	int sum_module=0;
	uint16_t group_checksum_module= 0;
	uint16_t checksum= 0;

	rc = hi553_otp_continuous_read(s_ctrl,module_addr+HI553_GROUP_FLAG_NO,HI553_MODULE_REG_NO,
								buf,&sum_module, &group_checksum_module);
	if(rc < 0){
		CMR_LOGE("%s ,fail read hi553 module info \n", __func__);
		return -1;
	}
	CMR_LOGE("%s vendor id:0x%x lense id:0x%x module info year 20%02d month %d day %d. \n",
			__func__, buf[0], buf[1], buf[4], buf[5], buf[6]);

	checksum = sum_module%255+1;
	if(checksum != group_checksum_module){
		CMR_LOGE("%s ,failed verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,module_addr,group_checksum_module);
		return -1;
   	 }
	hi553_otp_info.vendor_id = buf[0];
	s_ctrl->vendor_otp_info.vendor_id = hi553_otp_info.vendor_id;
   	CMR_LOGE("%s ,module_info success verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,module_addr,group_checksum_module);
	return rc;
}
static int hi553_otp_get_awb(struct msm_sensor_ctrl_t* s_ctrl,uint16_t  awb_addr)
{
	uint16_t buf[HI553_AWB_REG_NO] = {0};
	int rc = 0;
    	int sum_awb=0;
	uint16_t group_checksum_awb= 0;
	uint16_t checksum= 0;
	rc = hi553_otp_continuous_read(s_ctrl,awb_addr+HI553_GROUP_FLAG_NO,HI553_AWB_REG_NO,
								buf,&sum_awb,&group_checksum_awb);
	if(rc < 0){
		CMR_LOGE("%s ,fail hi553_otp_read_i2c\n", __func__);
		return rc;
	}
	checksum =sum_awb%255+1;
	if(checksum != group_checksum_awb){
		CMR_LOGE("%s ,awb failed verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,awb_addr,group_checksum_awb);
		return -1;
    }
    CMR_LOGE("%s ,awb success verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,awb_addr,group_checksum_awb);
	hi553_otp_info.rg_ratio = (buf[1]  << 8) | buf[0];
	hi553_otp_info.bg_ratio = (buf[3]  << 8) | buf[2];
	hi553_otp_info.gb_gr_ratio = (buf[5] << 8) | buf[4];

	CMR_LOGE("%s OTP data are rg_ratio=0x%x, bg_ratio=0x%x, gb_gr_ratio=0x%x\n", __func__,hi553_otp_info.rg_ratio, hi553_otp_info.bg_ratio, hi553_otp_info.gb_gr_ratio);

	if (0 == hi553_otp_info.rg_ratio || 0 == hi553_otp_info.bg_ratio || 0 == hi553_otp_info.gb_gr_ratio){
		//if awb value read is error for zero, abnormal branch deal
		CMR_LOGE("%s OTP awb is wrong!!!\n", __func__);
		return -1;
	}
	return 0;
}

static int hi553_otp_get_af(struct msm_sensor_ctrl_t* s_ctrl,uint16_t  af_addr)
{
	uint16_t buf[HI553_AF_REG_NO] = {0};
	int rc = 0;
	int sum_af =0;
	uint16_t checksum = 0;
	uint16_t group_checksum_af = 0;
	uint16_t vcm_offset = HI553_QTECH_MODULE_VCM_OFFSET;

	rc = hi553_otp_continuous_read(s_ctrl,af_addr+HI553_GROUP_FLAG_NO,HI553_AF_REG_NO,
								buf, &sum_af, &group_checksum_af);
	if(rc < 0){
		CMR_LOGE("%s ,fail hi553_otp_read_i2c\n", __func__);
		return rc;
	}

	checksum = sum_af%255+1;
	if(checksum != group_checksum_af){
		CMR_LOGE("%s ,af failed verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,af_addr,group_checksum_af);
		return -1;
    	}
	hi553_otp_info.af_macro_dac = (buf[1]  << 8)  | buf[0];
	hi553_otp_info.af_infinity_dac = (buf[3]  << 8) | buf[2];
	CMR_LOGE("hi553 otp [af_macro_dac:%#x][af_infinity_dac:%#x]", hi553_otp_info.af_macro_dac , hi553_otp_info.af_infinity_dac );
	if(hi553_otp_info.af_infinity_dac == 0 || hi553_otp_info.af_macro_dac == 0){
		CMR_LOGE("%s OTP af is wrong!!!\n", __func__);
		return -1;
	}
	if(s_ctrl->vendor_otp_info.vendor_id  == QTECH_VENDOR_ID)
		vcm_offset = HI553_QTECH_MODULE_VCM_OFFSET;
	if(s_ctrl->vendor_otp_info.vendor_id  == CHICONY_VENDOR_ID)
		vcm_offset = HI553_CHICONY_MODULE_VCM_OFFSET;

	hi553_otp_info.af_macro_dac += vcm_offset;
	if(hi553_otp_info.af_macro_dac >= 1023)
		hi553_otp_info.af_macro_dac=1023;

	if(hi553_otp_info.af_infinity_dac <= vcm_offset)
		hi553_otp_info.af_infinity_dac = 1;
	else
		hi553_otp_info.af_infinity_dac -= vcm_offset;

	s_ctrl->afc_otp_info.macro_dac= hi553_otp_info.af_macro_dac;
	s_ctrl->afc_otp_info.infinity_dac = hi553_otp_info.af_infinity_dac;
	s_ctrl->afc_otp_info.starting_dac = hi553_otp_info.af_infinity_dac;
	CMR_LOGE("hi553 otp include offset[af_macro_dac:%#x][af_infinity_dac:%#x]", hi553_otp_info.af_macro_dac , hi553_otp_info.af_infinity_dac );
	CMR_LOGE("%s ,af success verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,af_addr,group_checksum_af);
	return 0;
}

static int hi553_otp_get_lsc(struct msm_sensor_ctrl_t* s_ctrl,uint16_t  lsc_addr)
{
	uint16_t buf[HI553_LSC_REG_NO] = {0};
	int i,j;
	int rc = 0;
	int sum_lsc=0;
	uint16_t rggb_h =0;
	uint16_t offset = 0;
	uint16_t checksum= 0;
	uint16_t group_checksum_lsc= 0;
	rc = hi553_otp_continuous_read(s_ctrl,lsc_addr+HI553_GROUP_FLAG_NO,HI553_LSC_REG_NO,
								buf, &sum_lsc, &group_checksum_lsc);
	if(rc < 0){
		CMR_LOGE("%s ,fail hi553_otp_read_i2c\n", __func__);
		return rc;
	}

	checksum = sum_lsc%255+1;
	if(checksum != group_checksum_lsc){
		CMR_LOGE("%s ,lsc failed verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,lsc_addr,group_checksum_lsc);
		return -1;
    }

	for(j=0; j<MSM_ROLLOFF_MAX_LIGHT; j++)
	{
		for(i=0,offset=0; i<221; i++,offset+=5)
		{
			rggb_h = offset+4;
			s_ctrl->lsc_otp_info.lsc_otp[j].r_gain[i] =  (buf[rggb_h]<<2 & 0x300) | buf[offset];
			s_ctrl->lsc_otp_info.lsc_otp[j].gr_gain[i] = (buf[rggb_h]<<4 & 0x300) | buf[offset+1];
			s_ctrl->lsc_otp_info.lsc_otp[j].gb_gain[i] = (buf[rggb_h]<<6 & 0x300) | buf[offset+2];
			s_ctrl->lsc_otp_info.lsc_otp[j].b_gain[i] =  (buf[rggb_h]<<8 & 0x300) | buf[offset+3];
		}
	}
	CMR_LOGE("%s ,lsc success verify checksum ,checksum=0x%x,group_checksum_addr=0x%x,group_checksum=0x%x\n",
					__func__, checksum,lsc_addr,group_checksum_lsc);
	return 0;
}

static int hi553_otp_init_set(struct msm_sensor_ctrl_t *s_ctrl)
{
	int rc = 0;

	uint16_t val;

	st_hi553_otp_init.reg_setting =hi553_otp_init_setting;
	st_hi553_otp_init.size = ARRAY_SIZE(hi553_otp_init_setting);
	st_hi553_otp_init.addr_type = MSM_CAMERA_I2C_WORD_ADDR;
	st_hi553_otp_init.data_type = MSM_CAMERA_I2C_WORD_DATA;
	st_hi553_otp_init.delay = 0;

	hi553_otp_read_i2c(s_ctrl,0x0f16,&val);
	rc = hi553_otp_write_i2c_table(s_ctrl,&st_hi553_otp_init);
	if(rc < 0){
		CMR_LOGE("%s:%d failed set otp init setting.\n", __func__, __LINE__);
		return rc;
	}

	CMR_LOGW("set  hi553_otp_init_set OK\n");
	return rc;
}

static int hi553_otp_display_mode(struct msm_sensor_ctrl_t *s_ctrl)
{
	int i = 0;
	int32_t addr = 0;
	uint16_t data = 0;
	int rc = 0;

	struct msm_camera_i2c_reg_array hi553_otp_enable_setting[]=
	{
		#if 0
		{0x0f02, 0x00, 0x00},/*pll diszble*/
		{0x071a, 0x01, 0x00},/*CP TRIM_H*/
		{0x071b, 0x09, 0x00},/*IPGM TRIM_H*/
		{0x0d04, 0x01, 0x00},/*fync(otp busy)output enable*/
		{0x0d00, 0x07, 0x00},/*fync(otp busy)output drivability*/
		{0x003e, 0x10, 0x00},/*otp r/w mode*/
		{0x0a00, 0x01, 0x00},/*stand by off*/
		#endif
		{0x0a02, 0x01, 0x00},    //Fast sleep on
		{0x0a00, 0x00,  100},  // stand by on
		{0x0f02, 0x00, 0x00},    // pll disable
		{0x011a, 0x01, 0x00},    // CP TRIM_H
		{0x011b, 0x09, 0x00},    // IPGM TRIM_H
		{0x0d04, 0x01, 0x00},    // Fsync(OTP busy) Output Enable
		{0x0d00, 0x07, 0x00},    // Fsync(OTP busy) Output Drivability
		{0x003f, 0x10, 0x00},    // OTP R/W mode
		{0x0a00, 0x01, 0x10},    // stand by off
	};

	for( i = 0; i < ARRAY_SIZE(hi553_otp_enable_setting); i++ ){
		addr = hi553_otp_enable_setting[i].reg_addr;
		data = hi553_otp_enable_setting[i].reg_data;
		rc = hi553_otp_write_i2c(s_ctrl,addr, data);
		if(rc < 0){
			CMR_LOGE("%s: failed. reg:0x%x, data:0x%x\n", __func__, addr, data);
			return rc;
		}
	}
	return rc;
}

static int hi553_otp_init(struct msm_sensor_ctrl_t *s_ctrl)
{
	int rc = 0;
	/*write init setting*/
	rc = hi553_otp_init_set(s_ctrl);
	if(rc < 0){
		CMR_LOGE("%s: failed to hi553 otp init setting.\n", __func__);
		return rc;
	}
	/*enter display mode*/
	rc = hi553_otp_display_mode(s_ctrl);
	if(rc < 0){
		CMR_LOGE("%s: failed hi553_otp_display_mode.\n", __func__);
	}
	return rc;
}

static int hi553_otp_exit_read(struct msm_sensor_ctrl_t *s_ctrl)
{
	int rc = 0;
	/*stand by on*/
	rc = hi553_otp_write_i2c(s_ctrl,0x0a00, 0x00);
	if(rc < 0){
		CMR_LOGE("%s: failed write 0x0a00 stream off\n", __func__);
		return rc;
	}
	/*Fourth delay 10ms*/
	msleep(10);
	/*display mode*/
	rc = hi553_otp_write_i2c(s_ctrl,0x003f, 0x00);
	if(rc < 0){
		CMR_LOGE("%s: failed write 0x003e display mode\n", __func__);
		return rc;
	}
	/*stand by off*/
	rc = hi553_otp_write_i2c(s_ctrl,0x0a00, 0x01);
	if(rc < 0){
		CMR_LOGE("%s: failed write 0x0a00 stream on\n", __func__);
		return rc;
	}
	return rc;
}

static int hi553_read_otp(struct msm_sensor_ctrl_t *s_ctrl)
{
	uint16_t tmp_mmi_otp_flag = HI553_MMI_OTP_FAIL;
	int rc = 0;
	enum_hi553_groups group = GROUP_1;

	CMR_LOGW("%s enter\n", __func__);

	if (HI553_OTP_FAIL_FLAG == (hi553_otp_flag & HI553_OTP_FAIL_FLAG)){
		CMR_LOGE("%s, HI553_OTP_FAIL_FLAG\n", __func__);
		return -1;
	} else if (HI553_OTP_SUCCESS == hi553_otp_flag){
		CMR_LOGE("%s, HI553_OTP_COMPLETE\n", __func__);
		return 0;
	}
	//initial global parameters.
	hi553_otp_flag = 0;
	memset(&hi553_otp_info, 0 , sizeof(hi553_otp_info));
	/*init before read otp*/
	rc = hi553_otp_init(s_ctrl);
	if(rc < 0){
		CMR_LOGE("faild hi553_otp_init\n");
		goto GET_OTP_FAIL;
	}

	/*read module info group*/
	rc = hi553_otp_get_group(s_ctrl, GROUP_TYPE_MODULE, &group);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553 otp get MODULE group,group:%d,\n", __func__,group);
		goto GET_OTP_FAIL;
	}
	/*read module info*/
	rc =hi553_otp_get_module_info(s_ctrl,hi553_module_info_otp_read_addr[group][GROUP_TYPE_MODULE]);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553_otp_init_read\n", __func__);
		goto GET_OTP_FAIL;
	}

	hi553_otp_flag |= HI553_OTP_MODULE_INFO_READ;
	tmp_mmi_otp_flag &= ~HI553_MMI_OTP_MODULE_INFO_FLAG;

	/*read af  group*/
	rc = hi553_otp_get_group(s_ctrl, GROUP_TYPE_AF, &group);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553 otp get af group,group:%d,\n", __func__,group);
		goto GET_OTP_FAIL;
	}
	/*read af info*/
	rc = hi553_otp_get_af(s_ctrl,hi553_module_info_otp_read_addr[group][GROUP_TYPE_AF]);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553_otp_get_af\n", __func__);
		goto GET_OTP_FAIL;
	}
	hi553_otp_flag |= HI553_OTP_AF_READ;
	tmp_mmi_otp_flag &= ~HI553_MMI_OTP_AF_FLAG;

	/*read awb  group*/
	rc = hi553_otp_get_group(s_ctrl, GROUP_TYPE_AWB, &group);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553 otp get awb group,group:%d,\n", __func__,group);
		goto GET_OTP_FAIL;
	}
	/*read awb info*/
	rc = hi553_otp_get_awb(s_ctrl,hi553_module_info_otp_read_addr[group][GROUP_TYPE_AWB]);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553_otp_get_awb\n", __func__);
		goto GET_OTP_FAIL;
	}
	hi553_otp_flag |= HI553_OTP_AWB_READ;
	tmp_mmi_otp_flag &= ~HI553_MMI_OTP_AWB_FLAG;

	/*read lsc  group*/
	rc = hi553_otp_get_group(s_ctrl, GROUP_TYPE_LSC, &group);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553 otp get LSC group,group:%d,\n", __func__,group);
		goto GET_OTP_FAIL;
	}
	/*read lsc info*/
	rc = hi553_otp_get_lsc(s_ctrl,hi553_module_info_otp_read_addr[group][GROUP_TYPE_LSC]);
	if ( rc < 0 ){
		CMR_LOGE("%s,faild hi553_otp_get_lsc\n", __func__);
		goto GET_OTP_FAIL;
	}
	hi553_otp_flag |= HI553_OTP_LSC_READ;
	tmp_mmi_otp_flag &= ~HI553_MMI_OTP_LSC_FLAG;
    goto EXIT_OTP_READ;

GET_OTP_FAIL:
	hi553_otp_flag |= HI553_OTP_FAIL_FLAG;

EXIT_OTP_READ:
	//exit hi553 otp read
	rc = hi553_otp_exit_read(s_ctrl);
	if( rc < 0 ){
		CMR_LOGE("%s, failed hi553_otp_exit_read\n",__func__);
		hi553_otp_flag |= HI553_OTP_FAIL_FLAG;
		tmp_mmi_otp_flag = HI553_MMI_OTP_FAIL;
		rc = -1;
	}

	s_ctrl->hw_otp_check_flag.mmi_otp_check_flag  = tmp_mmi_otp_flag;
	pr_err("%s exit hi553_mmi_otp_flag = 0x%x ret:%d\n",__func__, s_ctrl->hw_otp_check_flag.mmi_otp_check_flag, rc);
	return rc;
}

/****************************************************************************
 * FunctionName: hi553_update_awb_gain;
 * Description : write R_gain,G_gain,B_gain to otp;
 * 0x200 =1x Gain
 * 0 means write AWB info succeed.
 * -1 means write AWB info failed.
 ***************************************************************************/
static int hi553_update_awb_otp(struct msm_sensor_ctrl_t *s_ctrl)
{
	uint16_t R_gain=1, G_gain=1 ,B_gain=1, Base_gain=1;
	if(hi553_otp_info.rg_ratio == 0 || hi553_otp_info.bg_ratio == 0){
		CMR_LOGE("%s: rg_ratio=%d bg_ratio=%d fail\n",__func__,hi553_otp_info.rg_ratio,hi553_otp_info.bg_ratio);
		return -1;
	}

	R_gain = (RG_Ratio_Typical*1000)/hi553_otp_info.rg_ratio;
	B_gain = (BG_Ratio_Typical*1000)/hi553_otp_info.bg_ratio;
	G_gain = 1000;
	if(R_gain < 1000 || ( B_gain < 1000 ) ){
		if(R_gain < B_gain )
			Base_gain = R_gain;
		else
			Base_gain = B_gain;
	}
	else
	{
		Base_gain = G_gain;
	}
	R_gain = 0x100*R_gain/Base_gain;
	B_gain = 0x100*B_gain/Base_gain;
	G_gain = 0x100*G_gain/Base_gain;
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x0126, G_gain>>8));       /*otp_gain_gr_h*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x0127, G_gain & 0x00ff)); /*otp_gain_gr_l*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x0128, G_gain>>8));       /*otp_gain_gb_h*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x0129, G_gain & 0x00ff)); /*otp_gain_gb_l*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x012a, R_gain>>8));       /*otp_gain_r_h*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x012b, R_gain & 0x00ff)); /*otp_gain_r_l*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x012c, B_gain>>8));       /*otp_gain_b_h*/
	loge_if_ret(hi553_otp_write_i2c(s_ctrl,0x012d, B_gain & 0x00ff)); /*otp_gain_b_l*/
	pr_err("%s: hi553 otp R_gain=0x%x, G_gain=0x%x, B_gain=0x%x Base_gain=0x%x \n",__func__,R_gain,G_gain,B_gain,Base_gain);
	return 0;
}

/****************************************************************************
 * FunctionName: hi553_set_otp_info;
 * Description : set otp data to sensor;
 ***************************************************************************/
int hi553_otp_func(struct msm_sensor_ctrl_t *s_ctrl,int index)
{
	int rc = 0;
	if(otp_function_lists[index].rg_ratio_typical){
		RG_Ratio_Typical = otp_function_lists[index].rg_ratio_typical;
	}

	if(otp_function_lists[index].bg_ratio_typical){
		BG_Ratio_Typical = otp_function_lists[index].bg_ratio_typical;
	}
	CMR_LOGW("%s, rg_ratio_typical=0x%04x,bg_ratio_typical=0x%04x\n", __func__,RG_Ratio_Typical,BG_Ratio_Typical );
	//Get otp info on the first time
	rc = hi553_read_otp(s_ctrl);
	if ( rc < 0 ){
		CMR_LOGE("%s:%d otp read failed.\n", __func__, __LINE__);
	return -1;
	}

	hi553_update_awb_otp(s_ctrl);
	CMR_LOGW("%s exit\n", __func__);
	return rc;
}
